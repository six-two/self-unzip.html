<script src="ascii85.js"></script>
<script src="fflate.js"></script>

<script>
    // TODO: strip down and combine ascii85 decode with gzip decompression (https://github.com/101arrowz/fflate) for a selfcontained selfunzipping file

    debug = (name, value) => {
        preview_length = 100;
        if (value.length > preview_length) {
            pretty_value = value.slice(0, preview_length) + "...";
        } else {
            pretty_value = value;
        }
        document.write(`<p>${name} (${value.length} bytes): "${pretty_value}"</p>`)
    }

    let text = `This is some normal text ... test 123! Täßtör\x00abc
    
    Source: https://loremipsum.org/
    Urna netus lobortis, vitae blandit rhoncus massa. Est urna eleifend adipiscing, lacinia vehicula ante, risus viverra massa nibh suscipit quam fermentum nostra. Sed aliquam torquent quam, auctor adipiscing volutpat fusce leo. Praesent congue, facilisis porta interdum accumsan. Convallis eu ante, curabitur posuere aliquet habitasse. Mauris aenean elit, bibendum donec, nostra porta litora ornare curabitur. Vehicula quis pretium semper, nostra porttitor sed, lacus ante velit fringilla conubia pellentesque nulla.

Aliquet adipiscing imperdiet varius, nulla tellus etiam, suspendisse sollicitudin fames elit interdum consequat. Ornare felis habitant, viverra id pellentesque quam eleifend. Phasellus hac, nisi porta at. Proin felis libero, nunc fames, ante velit aliquam massa ultricies molestie. Platea fermentum senectus, nibh fringilla, sit feugiat per tellus ut malesuada laoreet. Odio mi accumsan, ultrices ac, laoreet nam fusce aenean vestibulum ad conubia. Vitae nibh, in inceptos duis. Felis viverra tellus aptent, leo sociosqu vestibulum, phasellus magna adipiscing semper consequat ullamcorper. Suspendisse quisque amet integer, quam ut ac auctor mollis. Lectus aptent leo, dolor posuere fermentum gravida.

Vivamus auctor consequat, himenaeos felis, curae diam consectetur lorem per tempus. Sagittis a ac rhoncus, purus adipiscing mattis, sociosqu vel nibh bibendum tempor aptent. Placerat lobortis ipsum lacus, dolor varius pulvinar, litora cursus vulputate a suspendisse commodo sem taciti. Sit commodo, volutpat phasellus dapibus. Quam justo vivamus, ac orci neque porttitor. Nullam justo, odio etiam semper. Ut velit ut suspendisse, tincidunt nulla phasellus, in aenean eu volutpat pellentesque egestas. Nunc condimentum duis, class fringilla viverra interdum. Augue nibh varius, malesuada etiam dui erat id.

Curabitur faucibus maecenas, ligula arcu, vulputate iaculis cursus interdum habitant scelerisque. Netus donec, duis massa tristique. Tempus sed odio, sem lorem, cursus consectetur phasellus hac accumsan. Felis lobortis, a eu accumsan. Sociosqu netus lectus, elit tristique lobortis nec placerat.

Dolor integer justo nisl, rhoncus sapien vivamus, nunc metus est fusce dictumst pulvinar sollicitudin convallis. Duis pulvinar neque, convallis posuere, bibendum vivamus suscipit netus elit. Dapibus tincidunt condimentum, dictumst vestibulum pulvinar torquent tortor. Neque fermentum sodales porta, aenean ligula etiam nostra nec. Quisque consequat at, vestibulum integer senectus aliquet. Donec mauris augue interdum, viverra fermentum nisl, convallis fringilla ligula nullam egestas tincidunt nulla congue. Ullamcorper nullam convallis, condimentum laoreet, mauris varius libero aenean lacinia.

Cras mauris, massa convallis risus auctor. Accumsan proin erat conubia, commodo donec vitae, massa habitant ut pellentesque sagittis venenatis potenti amet. Hac lacus morbi faucibus, taciti phasellus a, vel ante donec vivamus torquent ligula varius neque. Justo netus sed consequat, dictumst vehicula dapibus, vestibulum suspendisse sapien maecenas fusce auctor sagittis imperdiet. Platea enim facilisis habitasse, maecenas velit vehicula rhoncus semper. Etiam praesent ornare, ac mollis, eros purus luctus rutrum massa. Auctor ac vitae, urna egestas lobortis nostra.

Eros elementum facilisis est, massa turpis lectus porttitor auctor. Lectus fermentum venenatis, eleifend bibendum, est interdum cubilia consequat scelerisque. Ultricies scelerisque id leo, aenean ornare lacus, dolor sollicitudin fames magna vel condimentum ut. Sit ac gravida platea, cubilia nibh sed ligula malesuada. Inceptos torquent lobortis, litora metus etiam porttitor. Ultricies felis sit, non purus, neque aliquet aptent metus risus. Mauris lacinia libero, ut bibendum, ad varius suscipit purus porta. Mattis accumsan, fringilla nibh non volutpat.

Porttitor congue mi, nunc eget, etiam dolor nisi semper suspendisse aenean eros. Aptent pulvinar leo, torquent dui, conubia faucibus quam curabitur ornare aliquet. Malesuada suscipit orci habitasse, elit eros justo scelerisque neque. Per odio ipsum lectus, molestie gravida nullam phasellus litora. Eget tellus primis, nunc pharetra fermentum neque quis. Venenatis eu porta, condimentum molestie, lacinia etiam nunc potenti class bibendum tempus. Accumsan fusce fames, egestas inceptos, sem sit primis tristique vestibulum. Venenatis commodo tempus habitant, lobortis aptent ullamcorper fusce platea. Libero et curae, bibendum aenean, nisl ipsum scelerisque blandit commodo interdum etiam.

Ullamcorper quisque sollicitudin scelerisque, mattis vel sapien, dapibus aliquam est fames placerat felis. Platea laoreet, nec phasellus vehicula. Ullamcorper nam ante interdum, dapibus lectus etiam, magna potenti at nunc etiam cubilia libero. Ac sit, ligula cras tempus quis. Inceptos tempor tempus ante, habitant aliquet ullamcorper, arcu sociosqu duis erat sollicitudin class. Dictum euismod bibendum, aliquam quam, lectus blandit nisl nec pharetra magna porttitor.

Quis pellentesque sagittis, viverra erat quisque dictum diam. Sollicitudin enim, fermentum curabitur sed. Ullamcorper mattis nullam, ut convallis, dictumst pharetra faucibus suscipit gravida. Malesuada habitasse praesent, faucibus lacinia fames aliquam consequat. At commodo nunc, elit dolor arcu vulputate nisl. Scelerisque tempor ultricies, nisi ad vitae ligula eros. Justo tempus, dui quisque lorem.

Dictumst duis ipsum lacinia, suspendisse pellentesque odio, justo laoreet urna semper amet vulputate. Porttitor hac feugiat, donec elit, ornare et etiam netus class. Condimentum curae, dolor libero torquent. Odio pretium lacus sit, elit nunc ultricies pharetra lectus. Odio class taciti, augue donec, aenean consequat sodales semper cubilia amet suscipit. Mi suspendisse aenean, feugiat fringilla, phasellus enim habitant ornare posuere blandit sapien. Cubilia scelerisque viverra, sapien ultricies aptent eget. Vulputate eu nunc hendrerit, phasellus id faucibus, vehicula amet adipiscing lobortis proin auctor curabitur. Id ut arcu, a consectetur, dapibus torquent mi pharetra ornare vehicula.

Velit pulvinar, sem molestie mollis. Nisi laoreet odio pellentesque, conubia a non molestie hendrerit. Erat cras semper, venenatis nibh, diam aliquam aenean luctus nulla. Suspendisse porta elementum lacinia, venenatis ut sodales, auctor luctus habitant etiam suscipit vel feugiat a. At eu amet, rhoncus est accumsan aliquam interdum.

Eleifend dolor est, ultrices amet odio lacinia sodales. Volutpat suscipit ultrices rutrum, posuere porttitor lacinia, id aenean blandit vitae magna non himenaeos. Pellentesque mi cras dapibus, quam sed ipsum, tristique ullamcorper class ornare accumsan consequat etiam. Aenean venenatis, conubia maecenas ut pharetra. Enim faucibus odio eu, mi a per, mauris mattis semper nisl sociosqu libero consectetur. Suspendisse lacinia aenean, dictumst arcu platea magna odio. Senectus gravida arcu cursus, convallis velit amet rhoncus etiam. Cras curae ac, sagittis mauris erat aenean.

In dapibus iaculis, euismod morbi ullamcorper fringilla. Ultricies lacinia hendrerit, et odio, lectus aliquet laoreet nisi est. Euismod cras commodo luctus, dolor iaculis arcu, phasellus quisque bibendum aliquet vestibulum ornare. Molestie donec suspendisse venenatis, gravida at habitant, massa habitasse pretium netus mollis velit aliquam id. Commodo cursus viverra sem, platea integer nostra, varius nisi euismod himenaeos neque elementum eu litora.

Dictum metus, varius neque semper habitant. Velit ligula nostra nec, cubilia consectetur nulla, libero egestas duis id nisl enim sem quisque. Nec vel proin, eget aliquet ultrices adipiscing. Blandit lacinia aenean, etiam malesuada, dictum sociosqu commodo class ut et. Quam aliquet, netus fames purus nostra. Iaculis imperdiet etiam, tempus taciti eros augue massa. Duis lorem quisque, metus convallis sagittis molestie aenean.

Scelerisque nullam lorem tellus, primis ipsum odio, tincidunt convallis vulputate integer nam ante. Cursus risus vitae, et quis egestas hendrerit. Etiam sem, laoreet litora consequat. Curabitur aliquam habitant pulvinar, nisl ante quis, arcu ad justo fringilla vestibulum nostra magna donec. Leo suscipit malesuada lacus, libero aliquam ac, dictum sit pulvinar luctus ipsum feugiat. Mattis eleifend ultrices, hac torquent, enim elit convallis nibh at class erat. Sagittis tempor gravida, ante tristique felis lacus. Metus curae dui, tellus inceptos, potenti erat ut platea pellentesque. Aenean congue dapibus risus, nisi vivamus libero, fringilla massa at ut sollicitudin lacus metus rhoncus.

Blandit tincidunt lorem nulla, congue interdum morbi, sodales commodo curabitur cras hendrerit magna ante. Tortor inceptos massa, ut aliquet, metus nostra mollis potenti aenean donec. Aliquam posuere rhoncus, maecenas tempus, condimentum ut nam nisi sit lacinia. Turpis cubilia imperdiet, ad libero, eleifend amet tellus erat nec tempor potenti. Placerat rhoncus, accumsan eu litora. Ut mi erat, est amet tristique dolor.

Suspendisse primis tempus, elementum hac, semper aptent amet mauris id imperdiet laoreet. Blandit a, turpis ornare libero. Quam congue iaculis ac, ullamcorper feugiat orci phasellus sem. Felis mattis porta, justo fames odio amet magna. Ipsum nunc quis, vivamus luctus, magna bibendum donec iaculis class est. Nibh curabitur tristique, nisi taciti, ultrices neque pharetra dapibus tortor turpis tempor. Cubilia sagittis nulla, platea blandit, ut consectetur est nullam tristique commodo pulvinar.

Enim purus velit ad, sagittis tincidunt risus, ultricies mauris tortor laoreet etiam et rutrum aenean. Hac fringilla dui turpis, metus suscipit iaculis, consequat ornare leo mi nisl aliquet sollicitudin nullam. Senectus donec sit, ligula adipiscing, varius imperdiet aliquet sapien aliquam odio nostra. Torquent sodales quam, primis etiam ante nunc nostra. Auctor at ad lacus, condimentum lacinia nulla, tincidunt laoreet consectetur euismod nunc gravida aliquam fusce. Ut pulvinar ullamcorper, dui posuere, diam ipsum taciti erat auctor vehicula per. Potenti ac eget enim, aliquet curae per sit dictumst.

Vehicula morbi, cursus egestas justo. Scelerisque sodales, ut aliquet taciti blandit. Platea accumsan mi id, inceptos litora potenti odio orci. Ultricies congue ullamcorper, fringilla nisi, scelerisque venenatis vivamus pretium condimentum etiam habitant. Habitasse sodales molestie venenatis, vehicula ut ante, magna purus lobortis mattis fusce habitant elit. Viverra semper sollicitudin, magna augue, rutrum sit dictum lacinia nulla eu.

At cubilia torquent egestas, sit dapibus mattis, sapien dui ornare blandit fermentum suspendisse. Platea imperdiet venenatis, vulputate donec, scelerisque quis non ligula posuere nisl potenti. Augue dolor potenti, leo lacinia egestas vestibulum elementum. Sed sodales, purus ornare elit fames. Odio erat, nostra torquent senectus. Sem proin congue molestie, lorem eleifend etiam aliquet curae. Ipsum torquent maecenas, tempor curabitur, mattis risus purus scelerisque consectetur. Nisl tempor, quis rutrum leo urna.

Senectus justo ut vulputate, curabitur per consectetur venenatis viverra. Ligula euismod eu, hac auctor, aenean imperdiet in ullamcorper facilisis. Auctor ornare sociosqu, himenaeos nunc, ligula luctus commodo purus pellentesque. Hendrerit non, inceptos eleifend ultricies aliquet. Inceptos ut facilisis, praesent porttitor, mattis habitasse bibendum donec scelerisque et.

Senectus pulvinar torquent etiam, vehicula habitasse venenatis, non fermentum interdum tempor nec nullam odio. Fermentum praesent, elit etiam laoreet placerat. Tincidunt cubilia, enim ante taciti. Ut cursus vestibulum, eleifend risus, et cubilia fringilla dui felis suscipit nullam. Volutpat neque sapien hac, amet ante primis, himenaeos erat tristique phasellus cras eu sed. Aliquet dapibus conubia tempor, sociosqu etiam nostra fringilla inceptos.

Vel fringilla accumsan, himenaeos ut, sit litora nostra bibendum sodales taciti nullam. Class proin erat, conubia pulvinar, ligula est aliquet cursus urna fermentum suscipit. Iaculis id litora, placerat consequat egestas vulputate semper. Cursus quis, lacinia tellus at eu. Et morbi sapien, mauris nisl, lacus interdum quam dictum viverra vivamus felis. Mi porttitor velit tellus, facilisis praesent luctus, duis libero vitae lorem quis sodales vulputate turpis. Risus netus luctus litora, varius cubilia mi, amet interdum ut nec suscipit sapien. Ut lorem scelerisque senectus, vehicula leo bibendum, fusce donec at purus mattis metus et.

Duis pretium scelerisque eros, faucibus aliquam commodo in imperdiet. Eros rhoncus sagittis, nostra mollis dictumst conubia. Porta duis pharetra, viverra eget ut diam ornare. Porttitor luctus conubia, laoreet class cursus quis cras. Sollicitudin fames, dictumst et at himenaeos. Congue metus sed sollicitudin, urna hendrerit odio, ad ultrices proin mattis fames taciti habitant per. Sem iaculis diam, odio proin, quisque felis tincidunt integer primis. Netus dictumst cursus, pretium leo, porttitor aliquam massa metus aenean lacus.

Tempus lorem leo, bibendum ornare, senectus metus feugiat proin consequat. Per gravida turpis fermentum, arcu interdum vitae, faucibus nibh amet nisl ac varius justo diam. Nunc habitant, neque id vehicula tristique. Aptent lorem, eros augue pulvinar quisque. Ultrices commodo pharetra inceptos, facilisis elementum erat ipsum porta. Magna accumsan, etiam id ut. Lacus ut feugiat luctus, semper varius sem a tellus. Etiam sodales lobortis, lacus scelerisque, pharetra nulla in ipsum eget ultrices. Himenaeos molestie euismod aenean, mi eleifend curae porta venenatis.

Vehicula consectetur mollis scelerisque, molestie ut nam magna senectus. Pellentesque erat lacus vehicula, nam in ut non consectetur. Sociosqu potenti quam, eget quisque, habitasse ipsum etiam pharetra erat. Eleifend nibh aptent quis, suscipit imperdiet fermentum, litora consequat tellus varius tristique etiam torquent tempor. Consequat eu tortor at, diam blandit proin, quisque molestie vitae nam iaculis vivamus pulvinar posuere.

Donec gravida maecenas, turpis cras, convallis enim ipsum purus nulla ornare primis. Platea nam litora risus, bibendum elit eu, molestie senectus iaculis hac odio per fusce tempor. Convallis non nostra per, sem aenean eleifend, enim tellus quam lacinia bibendum inceptos. Velit habitasse arcu lobortis, integer tincidunt faucibus, malesuada purus dolor cras vivamus augue. Sit sem, cubilia taciti curabitur. In ut porttitor sapien, laoreet aenean pulvinar lacus quis. Suspendisse auctor netus quis, fermentum imperdiet faucibus, ante ultrices quam libero curabitur morbi non hac. Potenti taciti duis, tellus senectus, orci mattis sollicitudin ultrices est. Volutpat vulputate accumsan ante, lectus luctus ad condimentum eu. Leo velit mauris, sociosqu fringilla, commodo aliquam arcu netus dui orci.

Magna id sapien, hac ac nam posuere. Eget rhoncus, diam aenean nibh. Conubia nostra ac, litora scelerisque, est id at malesuada felis semper. Pharetra viverra, proin primis nisi euismod. Hendrerit etiam, imperdiet commodo sociosqu interdum. Tristique curabitur et, aliquet maecenas, hac erat blandit venenatis habitasse mollis.

Senectus mi quisque auctor, torquent sollicitudin et, curabitur arcu mauris ad diam adipiscing porttitor dictum. Rhoncus dui bibendum proin, sociosqu himenaeos auctor, magna sagittis mauris vulputate purus quisque. Ultrices pellentesque facilisis vivamus, proin dui lacinia sem viverra. Vehicula vel neque, consectetur maecenas torquent nulla ligula. Potenti senectus risus donec, adipiscing diam per blandit etiam. Nostra lobortis et, non neque, dolor class inceptos mi accumsan.

Faucibus sagittis senectus, fusce fames, imperdiet commodo consectetur bibendum risus eu. Bibendum eros lectus, mi purus enim id. Quisque dictumst posuere, congue ut, pretium himenaeos vehicula adipiscing lobortis. Duis lobortis aliquam interdum, commodo cras tempus, in justo tempor nibh sed etiam. Vestibulum at, etiam dictum senectus. Massa varius mattis aptent, turpis ligula nostra, dapibus morbi egestas nec diam ante adipiscing. Vitae gravida vestibulum, nisi et, magna odio integer pellentesque nibh dapibus.

Nibh eleifend eu nisi, aliquam adipiscing gravida sapien nulla. Eros purus ultrices at, magna rhoncus etiam, vestibulum turpis arcu malesuada accumsan suscipit iaculis. Rutrum id tincidunt ad, cras aenean donec proin lobortis. Conubia vitae posuere, curabitur nibh fringilla nostra. Lacus est nullam, dui magna ut quisque.

Integer facilisis viverra gravida, quisque sapien sed, primis lorem imperdiet litora tempor non netus donec. Auctor dapibus sodales, curae lobortis, donec leo at tellus nunc sem habitant. Dapibus sagittis torquent, ad nec tristique ante ut. Sed ultricies lacinia, mauris aenean, potenti morbi eros netus justo. Interdum lectus, leo potenti a. Netus curabitur nibh est, diam orci metus, nullam mattis at ac faucibus venenatis tempor.

Commodo mattis, platea etiam nullam posuere. Purus felis, class tortor quisque. Dapibus cursus nullam consequat, fermentum ut curabitur, malesuada hendrerit lacus potenti odio erat. Purus cras lobortis eu, sem curae aliquam euismod quisque. Faucibus conubia fermentum posuere, in lorem cras, taciti etiam metus feugiat netus ultricies sociosqu inceptos.

Etiam phasellus molestie ullamcorper, risus porttitor velit, leo id feugiat ac pharetra vestibulum lacinia sagittis. Quisque dictum condimentum, a aliquam augue primis. Sociosqu est donec ad, potenti tellus sollicitudin, maecenas aenean lacus in urna dictumst commodo. Tincidunt torquent laoreet aptent, diam aenean pulvinar, mauris aliquet quisqueut posuere quisque. Nisl libero fusce, at tristique, sodales eget himenaeos ad inceptos.

Tortor class malesuada enim, curae morbi tempor, conubia tempus eleifend euismod mattis dapibus varius. Viverra vulputate arcu, curae a maecenas convallis fermentum. Litora taciti hendrerit sit, cubilia morbi curabitur, feugiat cras ad ornare praesent mattis tristique curabitur. Id nec fermentum, lobortis habitant, quis justo velit pulvinar duis lectus est. Leo etiam nostra, pulvinar ut dolor adipiscing metus. Netus malesuada consequat, lobortis curae, porta odio integer mollis congue.

Bibendum et ultricies, pulvinar tellus consequat metus. Sapien potenti pretium, iaculis litora, pharetra eu tempus pellentesque ut. Mattis nec class posuere, auctor aenean inceptos, lorem tempus dolor pharetra diam sem tempor tincidunt. Non eleifend erat, eget phasellus auctor per odio. Pulvinar suspendisse neque a, malesuada dui etiam, quisque lacus enim ultrices per non cras. Urna adipiscing tortor, magna varius, vehicula congue taciti cras bibendum turpis dolor. Ut sem, pharetra netus class. Fames nullam eleifend platea, turpis pretium tristique, arcu aliquet sit scelerisque interdum eros. Rhoncus vestibulum diam, mollis commodo molestie metus. Dapibus fermentum ut hac, placerat leo eleifend lacus pharetra.

Viverra quam luctus, tempor turpis commodo vestibulum non. Curabitur platea mattis, diam ornare porttitor eu ultrices. Metus habitasse congue, leo porta, sollicitudin molestie ultricies velit eget. Faucibus fames libero curae, etiam vitae semper, tristique morbi ultricies urna id aptent per. Taciti justo scelerisque, nunc sollicitudin dictum mattis sem. Arcu duis euismod aptent, habitasse curabitur tristique, elit semper adipiscing vitae lacus conubia congue. Cras suspendisse purus sagittis, faucibus conubia molestie, hendrerit malesuada egestas phasellus massa semper lorem enim. Viverra euismod, vivamus faucibus fringilla. Justo inceptos, congue mauris netus.

Fermentum platea dui dolor, fames aptent vivamus, scelerisque nibh porta quisque hac rhoncus. Sem quis curabitur, consectetur pellentesque, blandit adipiscing commodo primis odio quisque. Quisque ultrices id at, vel lectus senectus fames mollis. Semper posuere placerat turpis, vulputate pellentesque tellus, aenean pharetra est ante eget senectus. Nullam cursus aptent, dictum consectetur nunc vel. Velit aptent ut tellus, pellentesque eros blandit, lacinia laoreet habitasse tempor himenaeos nibh aliquam faucibus. Dolor mollis aptent, inceptos fames placerat lectus. Fringilla iaculis tristique adipiscing, lacinia senectus ac, ad interdum hac lectus eleifend lorem taciti habitasse. Massa varius magna quisque, netus malesuada maecenas, neque blandit odio eget sagittis arcu. Suspendisse vitae magna, fusce lorem lobortis taciti porttitor.

Nec velit vehicula aliquam, donec eros leo tempus interdum. Justo auctor, quisque consequat aliquam netus. Gravida habitant et, dapibus etiam, interdum diam congue neque nunc. A pharetra ad, curabitur aliquet, ante torquent faucibus vulputate condimentum. Integer praesent risus, pulvinar diam, eu aliquam nulla congue netus sapien nisi. Congue mattis ante, fermentum nostra malesuada dictumst cursus. Ad lorem mattis augue, purus non est lectus duis. Ornare id a, habitasse porta, ullamcorper sit malesuada nam ultrices vestibulum.

Enim malesuada commodo, ad tellus, vel cursus cubilia scelerisque placerat at dui. Dictumst per justo lobortis, imperdiet dictum praesent quam turpis. Class ultricies, morbi feugiat tellus ultrices. Cubilia consequat nulla, aliquam auctor enim leo pharetra. Mi commodo himenaeos egestas, neque lobortis vestibulum, dictum odio nibh viverra ultrices aenean quis. Massa pulvinar, placerat varius suspendisse rutrum. Aliquam sodales hac quis, nisl congue netus, imperdiet arcu taciti venenatis ut commodo aenean potenti. Tempus venenatis ad, curae ante, ligula scelerisque praesent bibendum dictum potenti posuere. Congue suspendisse varius maecenas, aenean vulputate etiam, nisl imperdiet fusce feugiat justo diam habitasse duis.

Facilisis cubilia velit id, ut dui hendrerit, diam ornare etiam nostra sollicitudin vestibulum donec. Leo morbi justo velit, curae vivamus neque, nec taciti metus magna nam inceptos ut. Arcu inceptos eu dictumst, dolor hendrerit primis, aliquam sem id justo dictum nullam venenatis. Quisque inceptos duis dictumst, mauris ut enim, dapibus aliquam vitae gravida magna pretium. Senectus ultricies, mi ut nec.

Morbi tempus, ad semper at. Aenean fringilla convallis consequat, egestas elit neque curabitur lectus. Magna ultrices curabitur, imperdiet aliquam, sed pretium integer porttitor cubilia nam eleifend. Mollis scelerisque erat, etiam quisque, venenatis neque tortor turpis interdum. At ut tristique, maecenas varius, nec vel nostra commodo ligula. Nullam eget est, tellus blandit mi duis. Est eget lacus egestas, suscipit massa mollis, fusce orci ornare ullamcorper quis eros enim nec.

Massa tellus porta, lacinia aptent, turpis etiam nibh nostra est aliquam. Integer taciti nisi, aenean venenatis nulla convallis vehicula. Mattis platea, nulla morbi eu posuere. Ut est, dapibus nec taciti etiam. Scelerisque feugiat, quisque elementum in iaculis. Vivamus risus, proin praesent mattis elit. Aptent neque auctor, aliquet faucibus ultricies tortor. Integer proin hendrerit turpis, fermentum semper dictumst, augue ultrices donec tellus interdum nec enim diam.

Hac dictumst maecenas, phasellus metus, a faucibus nibh inceptos tempus eget ante. Mollis donec class blandit, magna dui molestie, consequat vivamus elementum arcu condimentum ornare semper. Elementum tempor elit porttitor, nec ut eu, pharetra vehicula nisi praesent aenean conubia commodo. Est tempor, luctus proin nibh. Felis odio, tempor faucibus malesuada cursus.

Etiam nec hac bibendum, ante senectus non, vivamus enim class scelerisque sollicitudin euismod sapien. Posuere fames netus justo, ante rutrum aptent, mi proin morbi lobortis lectus ipsum viverra ut. Nisi imperdiet lectus, gravida tincidunt, eget augue donec malesuada id sapien class. Feugiat libero posuere ante, ultrices ut proin, commodo volutpat cubilia nec inceptos vulputate pulvinar sem. Ligula mattis, semper ipsum curabitur non. Aptent vitae fringilla, ligula cubilia, adipiscing imperdiet etiam mattis habitasse. Mollis nisl velit, mattis aliquam fermentum molestie. Morbi neque ut id, faucibus accumsan massa porta ultrices. Aliquam vitae duis leo, sodales sollicitudin augue, felis dolor posuere orci taciti consectetur. Posuere conubia, consequat tortor nostra habitasse.

Facilisis rhoncus, felis etiam cubilia. Ipsum fringilla libero et, dui augue viverra, elementum litora diam netus neque sem. Nec dapibus nullam, nisi et a duis fusce. Curae ullamcorper maecenas magna, purus mollis potenti, vivamus laoreet rhoncus venenatis porttitor posuere ac habitant. Primis a volutpat, cursus metus, tincidunt erat curabitur nunc ac arcu curae. Cras volutpat augue, vehicula auctor donec phasellus diam.

Bibendum amet dui, torquent pharetra habitasse fringilla. In elementum purus, consectetur nisi sit laoreet. Facilisis molestie congue laoreet, aliquam commodo leo fames porttitor. Id a praesent, quisque scelerisque, etiam posuere integer hendrerit dapibus habitant. Ornare nullam libero luctus, lectus platea justo, a suscipit viverra nulla morbi curabitur.

Iaculis malesuada interdum phasellus, tortor aptent placerat, dictumst luctus habitasse euismod non suspendisse consequat porttitor. Enim quisque posuere convallis, phasellus amet cursus, ac porta ullamcorper ut aliquam mattis. Donec cras erat laoreet, convallis maecenas scelerisque, turpis non proin tristique urna fringilla. Imperdiet lectus eleifend, euismod nisl, pretium habitasse etiam arcu porta donec. Tincidunt orci fringilla risus, varius in elementum, interdum malesuada accumsan commodo cras felis suspendisse.
Quisque ultrices, ut adipiscing semper. Lobortis aptent sollicitudin curabitur, etiam netus at, curae dolor quam laoreet lacus eleifend pellentesque est. Ligula lacus enim, etiam curae amet duis porta. Phasellus aliquam venenatis massa, luctus orci feugiat, vivamus scelerisque morbi varius rhoncus sollicitudin. Diam maecenas aenean tortor, curabitur elit cras, aliquam habitant ornare turpis pharetra faucibus lacus suscipit. Consectetur volutpat nibh inceptos, luctus aliquet mi, sapien vel cras tortor gravida fringilla.`
    debug("original", text);

    const text_bytes = fflate.strToU8(text);
    debug("original bytes", text_bytes);

    const compressed_bytes = fflate.compressSync(text_bytes);
    debug("+zipped", compressed_bytes);

    let enc = ascii85.fromByteArray(compressed_bytes);
    debug("zipped +ascii85", enc);

    // make the value a safe javascript string
    enc = enc.replaceAll('"', "v");
    enc = enc.replaceAll("\\", "w")
    enc = enc.replaceAll(/\\s/g, "");

    console.log(enc);
    ///////////////////////////////////////////////////////////////////


    set_download_data = (name, mime_type, data) => {
        const fileBlob = new Blob([data], {type: mime_type});

        const link = document.getElementById("download");
        link.setAttribute("href", URL.createObjectURL(fileBlob));
        link.setAttribute("download", name);
    }

    window.addEventListener("load", () => {
        console.log("[DEBUG] Onload handler triggered");
        const end_script = "</"+"script>";
        fetch("output/main.min.js").then(r => r.text()).then(text => {
            const page = `
<script>
    // Contains minified code from:
    // - https://github.com/101arrowz/fflate, MIT License, Copyright (c) 2020 Arjun Barrett
    // - https://github.com/nE0sIghT/ascii85.js, MIT License, Copyright (C) 2018  Yuri Konotopov (Юрий Конотопов) <ykonotopov@gnome.org>
    ${text}
${end_script}
<script>
    const self_decompressor = () => {
        let compressed_data = "${enc.replaceAll("\n", "").replaceAll("\r", "")}";
        compressed_data = compressed_data.replaceAll("v", '"').replaceAll("w", "\\\\");
        
        let decompressed_data = decompress(compressed_data);
        decompressed_data = decompressed_data.replaceAll("\\n", "<br>");
        document.write(decompressed_data);
    };
    self_decompressor();
${end_script}
`;
set_download_data("self_extract.html", "text/html", page);
        })
    })
    
    decode_and_decompress = (enc) => {
        let dec = enc.replaceAll("v", '"');
        dec = dec.replaceAll("w", "\\");

        dec = ascii85.toByteArray(dec);
        debug("zipped -ascii85", dec);

        dec = fflate.decompressSync(dec);
        debug("-zipped", dec);

        dec = fflate.strFromU8(dec);
        debug("decoded", dec);

        return dec;
    }

    
    dec = decode_and_decompress(enc);
    debug("Was decoded correctly", text === dec);
</script>

Click here to download the <a id="download">self extracting page</a>
